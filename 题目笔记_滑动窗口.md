# 滑动窗口

## 1、定长滑动窗口

### 1456 定长子串中元音的最大数目

定长滑动窗口的模板如下
```c++
while(right<k){
    sum+=s[right];
    right++;
}
ans=sum;//进行初始化

while(right<s.size()){
    sum+=s[right];
    sum-=s[left];

    ans=max(ans, sum);
    left++;
    right++;
}
```
分别进行
- 长度为k的窗口的初始化
- 后续的窗口移动，对于循环开始时，窗口是`[left, right)`

在两个阶段都需要对ans进行处理

### 2269 找到一个数字的K美丽值
对数字进行定长滑动窗口，注意`240`的窗口是`24`和`40`，没有最前面的`02`。所有不能使用剩下的数是否为0判断终止，而是直接计算窗口的次数。

判断`k`能否整除`n`，要判断`k!=0`且`n%k==0`，除数不能为0

> 也可以转化为字符串处理，稍微简单一点。c++`to_string`，python`str`


### 1984 学生分数的最小差值

有序数组求滑动窗口`最大最小值的差`，而不是`窗口的元素和`，则不需要滑动窗口第一阶段的初始化

也可以不用`lr`,`rt`滑动窗口，直接一次for循环遍历就行了，写法稍微简单一点
> 注意本题不是求`无序数组定长区间的最大值和最小值的差`。而是任意选取，使得固定数量的数组`最大值和最小值的差尽可能小`，一定是排序后相邻的`k`个元素，要简单的多

### 643 子数组最大平均数-i

最后是计算最大平均值，计算过程中计算最大和，最后返回的时候计算平均值就可以了

由于计算时是int，所以返回时需要手动`double(ans)/k`，否则会有不正确的舍入

### 1343 大小为K且平均值大于等于阈值的子数组数目

要求`平均值`满足条件的定长数组，转化为`区间和`满足条件的定长数组，可以避免浮点数运算。

求和`sum`和乘除`threshold*k`均需转化为long long，防止越界！
### 1423 可获得的最大点数

`每次行动，从行的开头或者末尾拿一张卡牌，最终拿k张卡牌`的最大值，就是求中间的滑动窗口的最小值

变量命名可辨识度高一点，使用`int window_sum=0, sum=0, window_min;`

> 也可以在两端拿走的上面滑动


### 2134 最少交换次数来组合所有的1-ii

每次操作交换`任意位置的01`，而不是相邻的。因此需要找到相邻最多的1。

- 首先计算所有1的个数，作为窗口长度。将对应长度的滑动窗口作为每一种操作后的数组的备选方案。此时窗口中0的个数就是需要操作的个数。
> 遍历结果空间
- 窗口初始化完成后，恰好移动n次遍历`环形数组`。移动时rt和lt需要取模，在初始化完成后就需要

sum需要初始化为0，否则每次运算的结果可能不一样



### 2653 滑动子数组的美丽值
在滑动窗口中记录第x小的数。注意到数据范围是`[-50, 50]`,使用计数排序的方法存储，并且根据`选择第k小的数`进行计数。核心是注意到`数据范围`！
- 注意题意，如果是正数则视为0。
- 修改了一处代码，要注意其他相似/相同/相关联的代码，也要修改
- 注意数据范围是`[-50, 50]`，但是memo的索引是正数，所以需要手动偏移，否则访问越界
- 初始化窗口就要放一个值到ans

### 2379 得到K个黑块的最少涂色次数
注意滑动窗口初始化和滑动两个阶段，for循环的上界分别是k和数组长度

可以计算黑和白，直接计算白块更简单！需要想可以用哪些，具体使用哪一种